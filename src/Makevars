#  GNUMakefile
 
# Just a snippet to stop executing under other make(1) commands
# that won't understand these lines
ifneq (,)
This makefile requires GNU Make.
endif

bregex_src=${wildcard boost_regex/*.cpp}
bregex_objs=${bregex_src:.cpp=.o}

REGEXLIB = libboost_regex.a
USERDIR =	../inst/lib
USERLIB = $(USERDIR)$(R_ARCH)/$(REGEXLIB)

PKG_LIBS = $(USERLIB) 

.PHONY: all clean 

all: 	$(SHLIB) 

$(SHLIB):  $(OBJECTS) $(USERLIB)  


$(USERLIB): ${bregex_objs}
		-@if test ! -e $(USERDIR)$(R_ARCH); then mkdir -p $(USERDIR)$(R_ARCH); fi
		$(AR) rs $(USERLIB) ${bregex_objs}

clean:
		rm -f $(OBJECTS) $(SHLIB) $(USERLIB)
 
